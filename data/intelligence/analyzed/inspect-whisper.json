{
  "repositoryId": "f9e0262d-b5a2-4e8b-b843-03207037f874",
  "name": "inspect-whisper",
  "owner": "skquievreux",
  "harvestedAt": "2025-12-21T09:21:48.678Z",
  "content": {
    "readme": "# Inspektions-App fÃ¼r Windenergieanlagen\n\nEine umfassende Web-Anwendung zur Dokumentation und Verwaltung von Inspektionen an Windenergieanlagen.\n\n## Aktuelle Version: 1.3.0\n\n### Neue Features (v1.3.0)\n- **Drag & Drop fÃ¼r Standard-Text Fotos**: Ziehen Sie Bilder direkt in die Dropzone\n- **VollstÃ¤ndige Foto-Bearbeitung**: Crop, Rotate, Filter auch in Standard-Texten\n- **Universelle Bild-Anzeige**: Alle Org-Mitglieder kÃ¶nnen Bilder sehen (Presigned URLs)\n- **Foto-Persistenz**: Bilder bleiben nach Speichern erhalten\n\n### Bug-Fixes (v1.3.0)\n- Foto-Upload in Standard-Texten funktioniert jetzt zuverlÃ¤ssig\n- Drag & Drop Dropzone wird korrekt angezeigt\n- Bilder verschwinden nicht mehr nach Speichern\n\n## ğŸ“‹ Ãœbersicht\n\nWind Inspector ist eine umfassende LÃ¶sung fÃ¼r die Inspektion und MÃ¤ngelerfassung von Windenergieanlagen. Die Anwendung ermÃ¶glicht es Teams, Inspektionen zu dokumentieren, MÃ¤ngel mit Fotos zu erfassen, Reports zu generieren und die gesamte Projekthistorie zu verwalten.\n\n### Hauptfunktionen\n\n- **ğŸ” MÃ¤ngel-Dokumentation**: Erfassung von MÃ¤ngeln mit Kategorisierung, Schweregrad und Foto-Dokumentation\n- **ğŸ“¸ Foto-Management**: Drag & Drop Sortierung, Bildbearbeitung, Thumbnail-Generierung und Versionsverwaltung\n- **ğŸ“Š Reports & Analysen**: Automatische Report-Generierung auf Organisations- und Anlagen-Ebene\n- **ğŸ‘¥ MehrmandantenfÃ¤higkeit**: Organisations-basierte Struktur mit Rollenverwaltung\n- **ğŸ­ Anlagen-Verwaltung**: Verwaltung mehrerer Windkraftanlagen mit individuellen Strukturen\n- **ğŸ“ Standard-Texte**: Bibliothek wiederverwendbarer Textbausteine fÃ¼r Reports\n- **ğŸ¨ Template-System**: Anpassbare Report-Vorlagen nach Anlagen-Typ\n- **ğŸ” Rollen & Berechtigungen**: Fein granulares Zugriffssystem (Super Admin, Owner, Admin, Editor, Viewer)\n- **â˜ï¸ Cloud-Speicher**: Integration mit Cloudflare R2 fÃ¼r Bildspeicherung\n\n## ğŸš€ Tech Stack\n\n### Frontend\n- **React 18.3** - UI Framework\n- **TypeScript** - Type-Safe JavaScript\n- **Vite** - Build Tool & Dev Server\n- **Tailwind CSS** - Utility-First CSS Framework\n- **shadcn/ui** - Komponentenbibliothek basierend auf Radix UI\n- **React Router** - Client-Side Routing\n- **Zustand** - State Management\n- **React Query** - Server State Management\n- **Recharts** - Diagramme und Visualisierungen\n- **React Hook Form + Zod** - Formular-Validierung\n\n### Backend & Infrastruktur\n- **Supabase** - Backend as a Service\n  - PostgreSQL Datenbank\n  - Row Level Security (RLS)\n  - Authentication (Email, Google OAuth)\n  - Edge Functions (Deno)\n- **Cloudflare R2** - Object Storage fÃ¼r Bilder\n- **Resend** - E-Mail-Versand\n\n### Weitere Libraries\n- **@dnd-kit** - Drag & Drop FunktionalitÃ¤t\n- **react-easy-crop** - Bildbearbeitung\n- **DOMPurify** - HTML Sanitization\n- **date-fns** - Datums-Utilities\n- **Lucide React** - Icon-System\n\n## ğŸ“¦ Installation\n\n### Voraussetzungen\n- Node.js 18+ oder Bun\n- Ein Supabase-Projekt\n- Cloudflare R2 Bucket (optional, fÃ¼r Bild-Upload)\n\n### 1. Repository klonen\n```bash\ngit clone <YOUR_GIT_URL>\ncd wind-inspector\n```\n\n### 2. Dependencies installieren\n```bash\nnpm install\n# oder\nbun install\n```\n\n### 3. Umgebungsvariablen konfigurieren\n\nErstellen Sie eine `.env` Datei im Root-Verzeichnis:\n\n```env\n# Supabase Configuration\nVITE_SUPABASE_URL=https://ihre-projekt-id.supabase.co\nVITE_SUPABASE_ANON_KEY=ihr-anon-key\n\n# Optional: Weitere Konfiguration\nVITE_APP_VERSION=1.2.0\n```\n\n**Hinweis:** Die Supabase URL und Keys sind bereits in `src/integrations/supabase/client.ts` hinterlegt.\n\n### 4. Entwicklungsserver starten\n```bash\nnpm run dev\n# oder\nbun run dev\n```\n\nDie Anwendung lÃ¤uft nun auf `http://localhost:8080`\n\n## ğŸ—„ï¸ Datenbank Setup\n\n### Supabase Migrationen\n\nDie Datenbank-Migrationen befinden sich im Ordner `supabase/migrations/`. Diese werden automatisch bei Deployment ausgefÃ¼hrt.\n\n### Wichtige Datenbank-Tabellen\n\n- `organizations` - Organisationen/Mandanten\n- `organization_members` - Mitgliedschaften und Rollen\n- `plants` - Windkraftanlagen\n- `areas` - Inspektionsbereiche (z.B. Turm, Gondel)\n- `components` - Komponenten innerhalb der Bereiche\n- `inspection_points` - Inspektionspunkte\n- `defects` - Dokumentierte MÃ¤ngel\n- `images` - Bild-Metadaten\n- `image_versions` - Bildversionen (Original, Bearbeitet, Thumbnail)\n- `categories` / `subcategories` - Mangel-Kategorisierung\n- `standard_texts` - Wiederverwendbare Textbausteine\n- `templates` - Report-Vorlagen\n- `profiles` - Benutzer-Profile\n- `user_roles` - System-Rollen (Super Admin)\n\n### Row Level Security (RLS)\n\nAlle Tabellen sind mit RLS-Richtlinien gesichert:\n- Organisations-basierte Zugriffskontrolle\n- Rollen-basierte Berechtigungen (Owner, Admin, Editor, Viewer)\n- Super-Admin-Zugriff auf alle Daten\n\n## ğŸ—ï¸ Projekt-Struktur\n\n```\nwind-inspector/\nâ”œâ”€â”€ src/\nâ”‚   â”œâ”€â”€ components/          # React-Komponenten\nâ”‚   â”‚   â”œâ”€â”€ ui/             # Basis UI-Komponenten (shadcn)\nâ”‚   â”‚   â”œâ”€â”€ mobile/         # Mobile-spezifische Komponenten\nâ”‚   â”‚   â””â”€â”€ ...             # Feature-Komponenten\nâ”‚   â”œâ”€â”€ pages/              # Seiten/Routes\nâ”‚   â”œâ”€â”€ hooks/              # Custom React Hooks\nâ”‚   â”œâ”€â”€ contexts/           # React Contexts (Auth, Organization, Plant)\nâ”‚   â”œâ”€â”€ store/              # Zustand Stores\nâ”‚   â”œâ”€â”€ types/              # TypeScript Typen\nâ”‚   â”œâ”€â”€ utils/              # Utility-Funktionen\nâ”‚   â”œâ”€â”€ integrations/       # API-Integrationen (Supabase)\nâ”‚   â”œâ”€â”€ data/               # Statische Daten\nâ”‚   â””â”€â”€ lib/                # Shared Libraries\nâ”œâ”€â”€ supabase/\nâ”‚   â”œâ”€â”€ functions/          # Edge Functions\nâ”‚   â”œâ”€â”€ migrations/         # Datenbank-Migrationen\nâ”‚   â””â”€â”€ config.toml         # Supabase-Konfiguration\nâ”œâ”€â”€ public/                 # Statische Assets\nâ””â”€â”€ ...\n```\n\n## ğŸ” Authentifizierung & Autorisierung\n\n### Rollen-System\n\n#### System-Rollen (Tabelle: `user_roles`)\n- **Super Admin**: Voller Zugriff auf alle Organisationen und System-Einstellungen\n\n#### Organisations-Rollen (Tabelle: `organization_members`)\n- **Owner**: Vollzugriff auf Organisation inkl. Mitglieder-Verwaltung\n- **Admin**: Verwaltung von Einstellungen, Templates, Kategorien\n- **Editor**: Erstellen und Bearbeiten von MÃ¤ngeln, Fotos, Reports\n- **Viewer**: Nur Lesezugriff\n\n### Login-Methoden\n- E-Mail/Passwort\n- Google OAuth\n\n### Benutzer-Verwaltung\n- Einladung neuer Mitglieder per E-Mail\n- Token-basierte Einladungen mit 7 Tagen GÃ¼ltigkeit\n- Automatische Profil-Erstellung bei Registrierung\n\n## ğŸ¨ Design-System\n\nDas Projekt verwendet ein semantisches Token-System basierend auf CSS-Variablen:\n\n### Farbschema\n- **Primary**: Hauptfarbe der Anwendung\n- **Secondary**: SekundÃ¤rfarbe\n- **Accent**: Akzentfarbe\n- **Severity-Levels**: \n  - `severity-urgent` - Dringende MÃ¤ngel (Rot)\n  - `severity-action` - Handlungsbedarf (Orange)\n  - `severity-note` - Hinweise (Gelb)\n  - `severity-ok` - Alles in Ordnung (GrÃ¼n)\n\n### Dark Mode\nVollstÃ¤ndige UnterstÃ¼tzung fÃ¼r Dark Mode mit automatischer System-Erkennung.\n\n## ğŸ“± Mobile-Optimierung\n\nDie Anwendung ist vollstÃ¤ndig responsive und bietet spezielle mobile Komponenten:\n- Touch-optimierte Bedienung\n- Optimierte Navigation fÃ¼r kleine Bildschirme\n- Swipe-Gesten fÃ¼r Bildergalerien\n- Mobile Bottom Sheets fÃ¼r Aktionen\n\n## ğŸ› ï¸ Entwicklung\n\n### Build fÃ¼r Produktion\n```bash\nnpm run build\n```\n\n### Build fÃ¼r Development (mit Source Maps)\n```bash\nnpm run build:dev\n```\n\n### Preview des Production Builds\n```bash\nnpm run preview\n```\n\n### Linting\n```bash\nnpm run lint\n```\n\n## ğŸš€ Deployment\n\n### Lovable Platform (Empfohlen)\nDas Projekt ist fÃ¼r die Lovable-Plattform optimiert:\n1. Ã–ffnen Sie [Lovable](https://lovable.dev/projects/a6834d91-4fe3-47cd-8980-dbf96dbbdc3d)\n2. Klicken Sie auf Share â†’ Publish\n3. Die App wird automatisch deployed\n\n### Eigenes Hosting\n1. Build erstellen: `npm run build`\n2. Inhalt des `dist/` Ordners auf Server deployen\n3. Umgebungsvariablen auf Server konfigurieren\n4. Supabase Edge Functions separat deployen\n\n### Docker\n```bash\ndocker build -t wind-inspector .\ndocker run -p 8080:8080 wind-inspector\n```\n\n## ğŸ”§ Supabase Edge Functions\n\n### VerfÃ¼gbare Functions\n- **generate-r2-presigned-url**: Generiert signierte URLs fÃ¼r Bild-Uploads zu R2\n- **send-invitation-email**: Versendet Einladungs-E-Mails an neue Mitglieder\n- **test-r2-connection**: Testet die R2-Verbindung\n\n### Secrets konfigurieren\nErforderliche Secrets in Supabase:\n- `R2_ACCESS_KEY_ID`\n- `R2_SECRET_ACCESS_KEY`\n- `R2_ENDPOINT`\n- `R2_BUCKET_NAME`\n- `R2_PUBLIC_URL`\n- `RESEND_API_KEY`\n- `SUPABASE_URL`\n- `SUPABASE_SERVICE_ROLE_KEY`\n- `SUPABASE_ANON_KEY`\n- `SUPABASE_DB_URL`\n\n## ğŸ–¼ï¸ Bild-Verwaltung\n\n### Cloudflare R2 Integration\n- Sichere Bild-Uploads Ã¼ber Pre-Signed URLs\n- Automatische Thumbnail-Generierung (400x300px)\n- Versionsverwaltung (Original, Bearbeitet, Thumbnail)\n- Optimierte Ladezeiten durch Thumbnail-System\n\n### Bild-Bearbeitung\n- Zuschneiden mit React Easy Crop\n- Rotation und Skalierung\n- Automatisches Speichern als neue Version\n\n## ğŸ“ Changelog\n\nSiehe [Changelog](src/pages/Changelog.tsx) fÃ¼r Details zu allen Versionen.\n\n### Aktuelle Version: 1.3.0 (Oktober 2025)\n\n#### Highlights v1.3.0\n- Drag & Drop Foto-Upload in Standard-Texten\n- VollstÃ¤ndige Foto-Bearbeitung fÃ¼r Standard-Texte\n- Verbesserte Foto-Persistenz\n\n#### Highlights v1.2.0\n- Drag & Drop Sortierung fÃ¼r Fotos\n- Thumbnail-System fÃ¼r 95% schnellere Ladezeiten\n- Feature-Hints fÃ¼r besseres Onboarding\n- Erweiterte Rollen-basierte Zugriffskontrolle\n- Organisation-Reports fÃ¼r Editor+ Rollen\n\n## ğŸ¤ Contributing\n\nBeitrÃ¤ge sind willkommen! Bitte beachten Sie:\n1. Fork des Repositories erstellen\n2. Feature-Branch erstellen (`git checkout -b feature/AmazingFeature`)\n3. Ã„nderungen committen (`git commit -m 'Add some AmazingFeature'`)\n4. Branch pushen (`git push origin feature/AmazingFeature`)\n5. Pull Request erstellen\n\n### Entwicklungs-Workflow\n- Ã„nderungen kÃ¶nnen direkt in Lovable gemacht werden\n- Commits werden automatisch zu GitHub gepusht\n- Lokale Entwicklung ist parallel mÃ¶glich\n- Alle Changes werden bidirektional synchronisiert\n\n## ğŸ”’ Sicherheit\n\n### Implementierte SicherheitsmaÃŸnahmen\n- Row Level Security (RLS) auf allen Tabellen\n- Rollen-basierte Zugriffskontrolle (RBAC)\n- Security Definer Functions zur Vermeidung von RLS-Rekursionen\n- HTML Sanitization mit DOMPurify\n- Sichere Authentication Ã¼ber Supabase\n- Input-Validierung mit Zod\n- XSS-Schutz\n\n### Best Practices\n- Keine sensiblen Daten im Client-Side Storage\n- Alle Admin-Checks serverseitig\n- Token-basierte Einladungen mit Ablaufdatum\n- Audit-Logs fÃ¼r wichtige Aktionen\n\n## ğŸ“„ Lizenz\n\nAlle Rechte vorbehalten.\n\n## ğŸ†˜ Support & Kontakt\n\nBei Fragen oder Problemen:\n- Issues erstellen im GitHub Repository\n- Dokumentation konsultieren unter `/changelog` in der App\n- Lovable Project: https://lovable.dev/projects/a6834d91-4fe3-47cd-8980-dbf96dbbdc3d\n\n## ğŸ™ Danksagungen\n\n- Built with [Lovable](https://lovable.dev)\n- UI-Komponenten von [shadcn/ui](https://ui.shadcn.com)\n- Icons von [Lucide](https://lucide.dev)\n- Backend powered by [Supabase](https://supabase.com)\n\n---\n\n**Version:** 1.3.0  \n**Letztes Update:** Oktober 2025  \n**Lovable Project URL:** https://lovable.dev/projects/a6834d91-4fe3-47cd-8980-dbf96dbbdc3d\n",
    "packageJson": {
      "name": "vite_react_shadcn_ts",
      "private": true,
      "version": "0.0.0",
      "type": "module",
      "scripts": {
        "dev": "vite",
        "build": "vite build",
        "build:dev": "vite build --mode development",
        "lint": "eslint .",
        "preview": "vite preview"
      },
      "dependencies": {
        "@dnd-kit/core": "^6.3.1",
        "@dnd-kit/sortable": "^10.0.0",
        "@dnd-kit/utilities": "^3.2.2",
        "@hookform/resolvers": "^3.9.0",
        "@radix-ui/react-accordion": "^1.2.0",
        "@radix-ui/react-alert-dialog": "^1.1.1",
        "@radix-ui/react-aspect-ratio": "^1.1.0",
        "@radix-ui/react-avatar": "^1.1.0",
        "@radix-ui/react-checkbox": "^1.1.1",
        "@radix-ui/react-collapsible": "^1.1.0",
        "@radix-ui/react-context-menu": "^2.2.1",
        "@radix-ui/react-dialog": "^1.1.2",
        "@radix-ui/react-dropdown-menu": "^2.1.1",
        "@radix-ui/react-hover-card": "^1.1.1",
        "@radix-ui/react-label": "^2.1.0",
        "@radix-ui/react-menubar": "^1.1.1",
        "@radix-ui/react-navigation-menu": "^1.2.0",
        "@radix-ui/react-popover": "^1.1.1",
        "@radix-ui/react-progress": "^1.1.0",
        "@radix-ui/react-radio-group": "^1.2.0",
        "@radix-ui/react-scroll-area": "^1.1.0",
        "@radix-ui/react-select": "^2.1.1",
        "@radix-ui/react-separator": "^1.1.0",
        "@radix-ui/react-slider": "^1.2.0",
        "@radix-ui/react-slot": "^1.1.0",
        "@radix-ui/react-switch": "^1.1.0",
        "@radix-ui/react-tabs": "^1.1.0",
        "@radix-ui/react-toast": "^1.2.1",
        "@radix-ui/react-toggle": "^1.1.0",
        "@radix-ui/react-toggle-group": "^1.1.0",
        "@radix-ui/react-tooltip": "^1.1.4",
        "@supabase/supabase-js": "^2.49.4",
        "@tanstack/react-query": "^5.56.2",
        "@types/dompurify": "^3.2.0",
        "class-variance-authority": "^0.7.1",
        "clsx": "^2.1.1",
        "cmdk": "^1.0.0",
        "date-fns": "^3.6.0",
        "dompurify": "^3.2.7",
        "embla-carousel-react": "^8.3.0",
        "fabric": "^6.7.1",
        "input-otp": "^1.2.4",
        "lucide-react": "^0.462.0",
        "next-themes": "^0.3.0",
        "react": "^19.2.0",
        "react-day-picker": "^8.10.1",
        "react-dom": "^19.2.0",
        "react-easy-crop": "^5.5.0",
        "react-hook-form": "^7.53.0",
        "react-resizable-panels": "^2.1.3",
        "react-router-dom": "^6.26.2",
        "react-speech-kit": "^3.0.1",
        "recharts": "^2.12.7",
        "sonner": "^1.5.0",
        "tailwind-merge": "^2.5.2",
        "tailwindcss-animate": "^1.0.7",
        "vaul": "^0.9.3",
        "zod": "^3.23.8",
        "zustand": "^5.0.6"
      },
      "devDependencies": {
        "@eslint/js": "^9.9.0",
        "@tailwindcss/typography": "^0.5.15",
        "@types/node": "^22.5.5",
        "@types/react": "^19.0.0",
        "@types/react-dom": "^19.0.0",
        "@vitejs/plugin-react-swc": "^3.5.0",
        "autoprefixer": "^10.4.20",
        "eslint": "^9.9.0",
        "eslint-plugin-react-hooks": "^5.1.0-rc.0",
        "eslint-plugin-react-refresh": "^0.4.9",
        "globals": "^15.9.0",
        "lovable-tagger": "^1.1.7",
        "postcss": "^8.4.47",
        "tailwindcss": "^3.4.11",
        "typescript": "^5.8.2",
        "typescript-eslint": "^8.0.1",
        "vite": "^5.4.1"
      },
      "engines": {
        "node": ">=20.9.0"
      }
    }
  },
  "analysis": {
    "description": "Wind Inspector ist eine spezialisierte Web-App, mit der Betreiber und Serviceunternehmen Inspektionen von Windenergieanlagen vollstÃ¤ndig digital, bildgestÃ¼tzt und revisionssicher dokumentieren kÃ¶nnen. Sie reduziert Nacharbeit, MedienbrÃ¼che und Reporting-Aufwand drastisch, indem alle MÃ¤ngel, Fotos, Standardtexte und Reports mandantenfÃ¤hig in einer zentralen Plattform orchestriert werden.",
    "businessCanvas": {
      "valueProposition": [
        "Reduktion von Inspektions- und Nachbearbeitungsaufwand durch durchgÃ¤ngige digitale MÃ¤ngel- und Fotodokumentation inklusive Bildbearbeitung und Vorlagen.",
        "HÃ¶here AnlagenverfÃ¼gbarkeit und Compliance durch strukturierte Erfassung von MÃ¤ngeln (Kategorien, Schweregrad) und automatisierte Reports auf Organisations- und Anlagenebene.",
        "Skalierbare Zusammenarbeit fÃ¼r Betreiber, Service-Dienstleister und Gutachter dank MehrmandantenfÃ¤higkeit, Rollen- und Rechtekonzept sowie Cloud-Speicher fÃ¼r alle Bilddaten."
      ],
      "customerSegments": [
        {
          "name": "Betreiber von Windparks (Onshore/Offshore)",
          "willingness_to_pay": "High",
          "pain_points": [
            "Hohe Kosten und Zeitaufwand fÃ¼r Inspektionen, Nachbereitung und manuelles Reportings in Excel/PDF.",
            "Schwierige Nachverfolgung von MÃ¤ngeln, Fotodokumentationen und Historie Ã¼ber die gesamte Lebensdauer der Anlagen."
          ]
        },
        {
          "name": "Service- und Wartungsdienstleister fÃ¼r Windenergieanlagen",
          "willingness_to_pay": "High",
          "pain_points": [
            "Ineffiziente Feldprozesse mit separaten Tools fÃ¼r Fotos, Protokolle und Berichte.",
            "Fehlende mandantenfÃ¤hige LÃ¶sung zur parallelen Bearbeitung verschiedener Kundenprojekte und klarer Rollenverteilung im Team."
          ]
        },
        {
          "name": "SachverstÃ¤ndige und InspektionsbÃ¼ros im Bereich Windenergie",
          "willingness_to_pay": "Medium",
          "pain_points": [
            "Hoher Erstellungsaufwand fÃ¼r standardisierte, kundenindividuelle Gutachten und Reports.",
            "Aufwendige Verwaltung von Bildmaterial, Versionen und standardisierten Textbausteinen Ã¼ber viele Projekte hinweg."
          ]
        }
      ],
      "revenueStreams": [
        {
          "source": "SaaS-Subscription pro Organisation (Mandant)",
          "model": "Recurring",
          "potential_arr": 120000
        },
        {
          "source": "Zusatzmodule fÃ¼r erweitertes Reporting, Templates und Speicherpakete (Add-ons)",
          "model": "Recurring",
          "potential_arr": 40000
        },
        {
          "source": "Onboarding, Setup & Individualisierung (Templates, Kategorien, Integrationen)",
          "model": "One-time",
          "potential_arr": 30000
        }
      ]
    }
  }
}